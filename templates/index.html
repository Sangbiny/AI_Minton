{% extends 'base.html' %}
{% block content %}
<h1>AI Minton Matcher</h1>
<form method="post" action="/match">
    총 게임 수: <input type="number" name="total_game_count" value="20"><br><br>
    {% for i in range(1, 21) %}
        이름: <input type="text" name="name{{i}}">
        성별: <select name="gender{{i}}">
            <option value="M">M</option>
            <option value="F">F</option>
        </select>
        급수: <input type="text" name="level{{i}}"><br>
    {% endfor %}
    <br>
    <button type="submit">매칭 실행</button>
</form>

<hr>
{% if result %}
    <h2>매칭 결과</h2>
    <div>
        {% for line in result.split('\n') %}
            {% if line.strip() %}
                <div>
                    {% for word in line.split() %}
                        <span class="dogtag">
                            {{ word }}
                            {% if word in game_counts %}
                                <span class="game-count">{{ game_counts[word] }}</span>
                            {% endif %}
                        </span>
                    {% endfor %}
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endif %}
{% endblock %}

{% block styles %}
<style>
    .dogtag {
        display: inline-block;
        border: 2px solid #444;
        border-radius: 10px;
        padding: 8px;
        margin: 5px;
        position: relative;
        background-color: #f0f0f0;
    }
    .game-count {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: #ffc107;
        border-radius: 50%;
        padding: 5px 7px;
        font-size: 12px;
        font-weight: bold;
    }
{% endblock %}

