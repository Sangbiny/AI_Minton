{% extends "base.html" %}
{% block content %}

<!-- 기존 참가자 입력 폼 -->
<form method="post" action="{{ url_for('match') }}">
    <div>
        <label for="total_game_count">총 경기 수:</label>
        <input type="number" name="total_game_count" required>
    </div>
    <div id="players">
        <div>
            <input type="text" name="name1" placeholder="이름">
            <select name="gender1">
                <option value="M">남</option>
                <option value="F">여</option>
            </select>
            <select name="level1">
                <option value="1">하</option>
                <option value="2">중</option>
                <option value="3">상</option>
            </select>
        </div>
    </div>
    <button type="button" onclick="addPlayer()">참가자 추가</button>
    <button type="submit">매칭 실행</button>
</form>

<script>
    let playerCount = 1;
    function addPlayer() {
        playerCount++;
        const div = document.createElement('div');
        div.innerHTML = `
            <input type="text" name="name${playerCount}" placeholder="이름">
            <select name="gender${playerCount}">
                <option value="M">남</option>
                <option value="F">여</option>
            </select>
            <select name="level${playerCount}">
                <option value="1">하</option>
                <option value="2">중</option>
                <option value="3">상</option>
            </select>
        `;
        document.getElementById("players").appendChild(div);
    }
</script>

{% if result %}
<hr>
{% include "record_detail_body.html" %}
{% endif %}

{% endblock %}

