{% extends "base.html" %}
{% block content %}
<h1>ğŸ“‚ ìš´ë™ ê¸°ë¡ ë³´ê¸°</h1>

<ul>
    {% for folder in record_folders %}
    <li>
        <a href="{{ url_for('record_detail', folder=folder) }}">{{ folder }}</a>
        <button onclick="confirmDelete('{{ folder }}')">ì‚­ì œ</button>
    </li>
    {% endfor %}
</ul>

<script>
function confirmDelete(folder) {
    const password = prompt("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");

    if (password === "4568") {
        fetch(`/records/${folder}/delete`, {
            method: "POST"
        })
        .then(res => {
            if (res.ok) {
                alert("ì‚­ì œ ì™„ë£Œ!");
                location.reload();
            } else {
                alert("ì‚­ì œ ì‹¤íŒ¨");
            }
        });
    } else if (password !== null) {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
}
</script>
{% endblock %}

